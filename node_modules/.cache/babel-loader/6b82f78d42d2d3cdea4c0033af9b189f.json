{"ast":null,"code":"var _jsxFileName = \"/Users/Mavidelaru/Desktop/MARTA/FRONTEND/REACT/my-second-app/src/App.js\";\nimport React, { Component } from 'react';\nimport Items from './Components/Items';\nimport Saldo from './Components/Saldo';\nimport Available from './Components/Available';\nimport BtnMoneyBack from './Components/BtnMoneyBack';\nimport './css/App.css';\nimport './css/bootstrap.min.css';\nimport twix from './img/twix.jpg';\nimport coke from './img/coca-cola.jpg';\nimport chocolate from './img/chocolate.jpg';\nimport doritos from './img/doritos.jpg';\nimport water from './img/water.gif';\nimport chips from './img/chips.jpg';\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      items: [{\n        itemId: \"a01\",\n        itemName: \"Twix\",\n        itemPrice: 1,\n        itemCount: 2,\n        imgUrl: twix\n      }, {\n        itemId: \"a02\",\n        itemName: \"Coca-cola\",\n        itemPrice: 2.4,\n        itemCount: 3,\n        imgUrl: coke\n      }, {\n        itemId: \"a03\",\n        itemName: \"Chocolate\",\n        itemPrice: 1.5,\n        itemCount: 4,\n        imgUrl: chocolate\n      }, {\n        itemId: \"a04\",\n        itemName: \"Doritos\",\n        itemPrice: 1.40,\n        itemCount: 1,\n        imgUrl: doritos\n      }, {\n        itemId: \"b01\",\n        itemName: \"Agua\",\n        itemPrice: 0.95,\n        itemCount: 2,\n        imgUrl: water\n      }],\n      money: 0,\n      coins: [0.05, 0.10, 0.20, 0.50, 1, 2],\n      isPurchaseAlowed: true,\n      justPurchased: \"\"\n    };\n    this.addValue = this.addValue.bind(this);\n    this.moneyBack = this.moneyBack.bind(this);\n    this.purchaseItem = this.purchaseItem.bind(this);\n  }\n\n  addValue(e) {\n    const currentValue = this.state.money;\n    const isPurchaseAlowed = this.state.isPurchaseAlowed;\n    const addedValue = parseFloat(e.target.value, 10);\n    const newValue = currentValue + addedValue;\n\n    if (isPurchaseAlowed) {\n      this.setState({\n        money: parseFloat(newValue.toFixed(2), 10)\n      });\n    }\n  }\n\n  moneyBack() {\n    var cash = this.state.money;\n    let coin = [2, 1, 0.5, 0.2, 0.1, 0.05, 0.01];\n    let message = \"Tu cambio: <b>\" + this.state.money + \"€</b></br>\";\n    let aux = 0;\n    let rest = cash; // Not essential, maintain \"cash\" to its initial value, to do some detailed instructions, if needed.\n\n    do {\n      if (rest >= coin[aux]) {\n        message += Math.trunc(rest / coin[aux]) + \" moneda de \" + coin[aux] + \"€ </b> </br>\";\n        rest -= coin[aux] * Math.trunc(rest / coin[aux]);\n        rest = Math.round(rest * 100) / 100;\n      }\n\n      aux++;\n    } while (rest !== 0);\n\n    document.getElementById(\"show\").innerHTML = message;\n    this.setState({\n      money: 0,\n      isPurchaseAlowed: true,\n      justPurchased: \"\"\n    });\n  }\n\n  purchaseItem(e) {\n    e.preventDefault();\n    const currentState = this.state.items.slice(0);\n    const isPurchaseAlowed = this.state.isPurchaseAlowed;\n    let currentMoney = this.state.money;\n    const index = e.target.getAttribute('data-value');\n    const howMany = currentState[index].itemCount;\n    const whichItem = currentState[index].itemName;\n    const itemPrice = currentState[index].itemPrice;\n\n    if (howMany > 0 && isPurchaseAlowed && itemPrice > currentMoney) {\n      alert(\"Saldo insuficiente\");\n    }\n\n    if (isPurchaseAlowed && howMany < 1) {\n      alert(\"Out of stock. Would you like something else?\");\n    }\n\n    if (isPurchaseAlowed && howMany > 0 && currentState[index].itemCount > 0 && itemPrice <= currentMoney) {\n      currentState[index].itemCount -= 1;\n      currentMoney -= itemPrice;\n      this.setState({\n        items: currentState,\n        money: parseFloat(currentMoney.toFixed(2), 10),\n        justPurchased: whichItem\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      class: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      class: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 11\n      }\n    }, \"Vending machine app \"), /*#__PURE__*/React.createElement(Saldo, {\n      coins: this.state.coins,\n      money: this.state.money,\n      addValue: this.addValue,\n      moneyBack: this.moneyBack,\n      lastPurchased: this.state.justPurchased,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 14\n      }\n    }, /*#__PURE__*/React.createElement(Available, {\n      money: this.state.money,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(BtnMoneyBack, {\n      money: this.state.money,\n      moneyBack: this.moneyBack,\n      lastPurchased: this.state.justPurchased,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(Items, {\n      items: this.state.items,\n      purchaseItem: this.purchaseItem,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 14\n      }\n    })));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/Mavidelaru/Desktop/MARTA/FRONTEND/REACT/my-second-app/src/App.js"],"names":["React","Component","Items","Saldo","Available","BtnMoneyBack","twix","coke","chocolate","doritos","water","chips","App","constructor","state","items","itemId","itemName","itemPrice","itemCount","imgUrl","money","coins","isPurchaseAlowed","justPurchased","addValue","bind","moneyBack","purchaseItem","e","currentValue","addedValue","parseFloat","target","value","newValue","setState","toFixed","cash","coin","message","aux","rest","Math","trunc","round","document","getElementById","innerHTML","preventDefault","currentState","slice","currentMoney","index","getAttribute","howMany","whichItem","alert","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Items from './Components/Items';\nimport Saldo from './Components/Saldo';\nimport Available from './Components/Available';\nimport BtnMoneyBack from './Components/BtnMoneyBack';\n\nimport './css/App.css';\nimport './css/bootstrap.min.css';\n\n\nimport twix from './img/twix.jpg';\nimport coke from './img/coca-cola.jpg';\nimport chocolate from './img/chocolate.jpg';\nimport doritos from './img/doritos.jpg';\nimport water from './img/water.gif';\nimport chips from './img/chips.jpg';\n\nclass App extends Component {\n\n  constructor(){\n    \n    super();\n\n    this.state = {\n      \n      items: [\n        {itemId: \"a01\", itemName: \"Twix\", itemPrice: 1, itemCount: 2, imgUrl: twix},\n        {itemId: \"a02\", itemName: \"Coca-cola\", itemPrice: 2.4, itemCount: 3, imgUrl: coke},\n        {itemId: \"a03\", itemName: \"Chocolate\", itemPrice: 1.5, itemCount: 4, imgUrl: chocolate},\n        {itemId: \"a04\", itemName: \"Doritos\", itemPrice: 1.40, itemCount: 1, imgUrl: doritos},\n        {itemId: \"b01\", itemName: \"Agua\", itemPrice: 0.95, itemCount: 2, imgUrl: water},\n      ],\n\n      money: 0,\n      coins: [0.05, 0.10, 0.20, 0.50, 1,2],\n      isPurchaseAlowed: true,\n      justPurchased: \"\"\n    }\n\n    this.addValue = this.addValue.bind(this);\n    this.moneyBack = this.moneyBack.bind(this);\n    this.purchaseItem = this.purchaseItem.bind(this);\n  }\n\n  addValue(e){\n    const currentValue = this.state.money;\n    const isPurchaseAlowed = this.state.isPurchaseAlowed;\n    const addedValue = parseFloat(e.target.value, 10);\n    const newValue = currentValue + addedValue;\n\n    if(isPurchaseAlowed){\n      this.setState({\n        money: parseFloat(newValue.toFixed(2), 10)\n      });\n    } \n  }\n\n  moneyBack(){\n\n    \n    var cash=this.state.money;    \n    let coin = [2, 1, 0.5, 0.2, 0.1, 0.05, 0.01];\n    let message = \"Tu cambio: <b>\"+(this.state.money)+\"€</b></br>\";\n    let aux = 0;\n    let rest = cash;    // Not essential, maintain \"cash\" to its initial value, to do some detailed instructions, if needed.\n\n    do {\n        if (rest >= coin[aux]) {\n            message += Math.trunc(rest / coin[aux]) + \" moneda de \" + coin[aux] + \"€ </b> </br>\";\n            rest -= (coin[aux] * Math.trunc(rest / coin[aux]));\n            rest=(Math.round(rest*100))/100;  \n        }\n        aux++;\n    }\n    while (rest !== 0);\n\n    document.getElementById(\"show\").innerHTML = message;\n\n    this.setState({\n      money: 0,\n      isPurchaseAlowed: true,\n      justPurchased: \"\"\n    });\n\n  }\n\n  purchaseItem(e){\n    e.preventDefault();\n    const currentState = this.state.items.slice(0);\n    const isPurchaseAlowed = this.state.isPurchaseAlowed;\n    let currentMoney = this.state.money;\n    const index = e.target.getAttribute('data-value');\n    const howMany = currentState[index].itemCount;\n    const whichItem = currentState[index].itemName;\n    const itemPrice = currentState[index].itemPrice;\n\n    if (howMany > 0 && isPurchaseAlowed && itemPrice > currentMoney) {\n      alert(\"Saldo insuficiente\");\n    }\n\n\n     if( isPurchaseAlowed && howMany < 1){\n      alert(\"Out of stock. Would you like something else?\");\n    }\n\n    if(isPurchaseAlowed && howMany > 0 && currentState[index].itemCount > 0 && itemPrice <= currentMoney){\n      currentState[index].itemCount -= 1;\n      currentMoney -= itemPrice;\n\n      this.setState({\n        items: currentState,\n        money: parseFloat(currentMoney.toFixed(2), 10),\n        justPurchased: whichItem\n      });\n    }\n  }\n\n  render() {\n    return (\n      <div class=\"App\">\n        <div class=\"container\">\n          <h1 class=\"text-center\">Vending machine app </h1>\n          \n         \n             <Saldo  coins={this.state.coins}\n             money={this.state.money}\n             addValue={this.addValue}\n             moneyBack={this.moneyBack}\n             lastPurchased={this.state.justPurchased}>\n       \n            <Available money={this.state.money} />\n            \n            <BtnMoneyBack money={this.state.money}\n                     moneyBack={this.moneyBack}\n                     lastPurchased={this.state.justPurchased}/>\n            \n            \n            </Saldo>\n         \n             <Items  items={this.state.items} purchaseItem={this.purchaseItem} />\n         \n\n        </div>\n      </div>\n    );\n  }\n}\n\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}